{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","services/API.js","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","onSetQuery","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","className","s","searchbar","this","form","type","button","label","input","autoComplete","autoFocus","onChange","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","onClick","Overlay","children","src","alt","ImageGallery","id","imageGallery","ImageGalleryItem","images","map","webformatURL","largeImageURL","tags","ImageGalleryItem__image","Button","OnLoader","color","height","width","axios","defaults","baseURL","API","currentPage","apiKey","contentType","get","App","showModal","isLoading","error","query","toggleModal","handleClick","image","onLoadMore","options","then","data","console","log","prevState","hits","catch","finally","scrollTo","top","scrollHeight","behavior","prevProps","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4d11ce94.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2mLrE\",\"Modal\":\"Modal_Modal__2Afsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Drf_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__FCKkB\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3U7Je\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Oxc2\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  onSetQuery = e => {\r\n    this.setState({\r\n      searchQuery: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchQuery);\r\n\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button\r\n            onSubmit={this.handleSubmit}\r\n            type=\"submit\"\r\n            className={s.button}\r\n          >\r\n            <span className={s.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            value={this.state.searchQuery}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            onChange={this.onSetQuery}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div onClick={this.handleBackdropClick} className={s.Overlay}>\r\n        <div className={s.Modal}>\r\n          {this.props.children}\r\n          <img src=\"\" alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => (\r\n  <ul id=\"imageGallery\" className={s.imageGallery}>\r\n    {children}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) =>\r\n  images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n    <li className=\"ImageGalleryItem\" key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem__image}\r\n        onClick={() => {\r\n          onClick(largeImageURL);\r\n        }}\r\n      />\r\n    </li>\r\n  ));\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport React, { Component } from 'react';\r\n\r\nclass OnLoader extends Component {\r\n  render() {\r\n    return <Loader type=\"Rings\" color=\"#00bfff\" height={100} width={100} />;\r\n  }\r\n}\r\nexport default OnLoader;\r\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst API = ({ searchQuery, currentPage, apiKey, contentType }) => {\n  return axios.get(\n    `/?q='${searchQuery}}&page=${currentPage}&key=${apiKey}&${contentType}&per_page=12`,\n  );\n};\n\nexport { API };\n","import React, { Component } from 'react';\n\n//components\nimport Searchbar from 'components/Searchbar';\nimport Modal from './components/Modal';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport { API } from './services/API';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    largeImageURL: '',\n    showModal: false,\n    isLoading: false,\n    error: null,\n    apiKey: '20675292-983eeb99019a7539d0696693a',\n    contentType: 'image_type=photo&orientation=horizontal',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.onLoadMore();\n    }\n  }\n\n  onSubmit = query => {\n    this.setState({\n      images: [],\n      searchQuery: query,\n      currentPage: 1,\n      error: null,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleClick = image => {\n    this.toggleModal();\n    this.setState({ largeImageURL: image });\n  };\n\n  onLoadMore = () => {\n    const { searchQuery, currentPage, apiKey, contentType } = this.state;\n\n    const options = { currentPage, searchQuery, apiKey, contentType };\n\n    this.setState({ isLoading: true });\n\n    API(options)\n      .then(({ data }) => {\n        console.log(options);\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.querySelector('#imageGallery').scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, isLoading } = this.state;\n    console.log(this.state.searchQuery);\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n\n        {images.length > 0 && (\n          <ImageGallery>\n            <ImageGalleryItem images={images} onClick={this.handleClick} />\n          </ImageGallery>\n        )}\n\n        {isLoading && <Loader />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n        {images.length > 0 && <Button onClick={this.onLoadMore} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__zjGgs\",\"form\":\"Searchbar_form__1ZZH2\",\"button\":\"Searchbar_button__3flyd\",\"label\":\"Searchbar_label__26oPV\",\"input\":\"Searchbar_input__2T97r\"};"],"sourceRoot":""}