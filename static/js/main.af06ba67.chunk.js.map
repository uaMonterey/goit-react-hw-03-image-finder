{"version":3,"sources":["components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","services/API.js","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","Searchbar","state","searchQuery","onSetQuery","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","searchbar","this","form","type","button","label","input","autoComplete","autoFocus","onChange","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","onClick","Overlay","src","alt","ImageGallery","id","imageGallery","ImageGalleryItem","images","map","webformatURL","largeImageURL","tags","ImageGalleryItem__image","Button","OnLoader","Loader","color","height","width","axios","defaults","baseURL","API","currentPage","apiKey","contentType","get","App","showModal","isLoading","error","query","toggleModal","handleClick","image","onLoadMore","options","then","data","console","log","prevState","hits","catch","finally","scrollTo","top","scrollHeight","behavior","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af06ba67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2mLrE\",\"Modal\":\"Modal_Modal__2Afsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__2lDDB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Drf_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__FCKkB\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3U7Je\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Oxc2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__Fk-Ip\"};","import React from 'react';\r\nimport s from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={s.Container}>{children}</div>\r\n);\r\n\r\nexport default Container;\r\n","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  onSetQuery = e => {\r\n    this.setState({\r\n      searchQuery: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchQuery);\r\n\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button\r\n            onSubmit={this.handleSubmit}\r\n            type=\"submit\"\r\n            className={s.button}\r\n          >\r\n            <span className={s.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            value={this.state.searchQuery}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            onChange={this.onSetQuery}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div onClick={this.handleBackdropClick} className={s.Overlay}>\r\n        <div className={s.Modal}>\r\n          {this.props.children}\r\n          <img src=\"\" alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => (\r\n  <ul id=\"imageGallery\" className={s.imageGallery}>\r\n    {children}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) =>\r\n  images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n    <li className=\"ImageGalleryItem\" key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem__image}\r\n        onClick={() => {\r\n          onClick(largeImageURL);\r\n        }}\r\n      />\r\n    </li>\r\n  ));\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport React, { Component } from 'react';\r\nimport s from './Loader.module.css';\r\n\r\nclass OnLoader extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.Loader}\r\n        type=\"Rings\"\r\n        color=\"#00bfff\"\r\n        height={200}\r\n        width={200}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default OnLoader;\r\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst API = ({ searchQuery, currentPage, apiKey, contentType }) => {\n  return axios.get(\n    `/?q='${searchQuery}}&page=${currentPage}&key=${apiKey}&${contentType}&per_page=12`,\n  );\n};\n\nexport { API };\n","import React, { Component } from 'react';\n\n//components\nimport Container from './components/Container';\nimport Searchbar from 'components/Searchbar';\nimport Modal from './components/Modal';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport { API } from './services/API';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    largeImageURL: '',\n    showModal: false,\n    isLoading: false,\n    error: null,\n    apiKey: '20675292-983eeb99019a7539d0696693a',\n    contentType: 'image_type=photo&orientation=horizontal',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.onLoadMore();\n    }\n  }\n\n  onSubmit = query => {\n    this.setState({\n      images: [],\n      searchQuery: query,\n      currentPage: 1,\n      error: null,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleClick = image => {\n    this.toggleModal();\n    this.setState({ largeImageURL: image });\n  };\n\n  onLoadMore = () => {\n    const { searchQuery, currentPage, apiKey, contentType } = this.state;\n\n    const options = { currentPage, searchQuery, apiKey, contentType };\n\n    this.setState({ isLoading: true });\n\n    API(options)\n      .then(({ data }) => {\n        console.log(options);\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.querySelector('#imageGallery').scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, isLoading } = this.state;\n    console.log(this.state.searchQuery);\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onSubmit} />\n\n        {images.length > 0 && (\n          <ImageGallery>\n            <ImageGalleryItem images={images} onClick={this.handleClick} />\n          </ImageGallery>\n        )}\n\n        {isLoading && <Loader />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n\n        {images.length > 0 && <Button onClick={this.onLoadMore} />}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__zjGgs\",\"form\":\"Searchbar_form__1ZZH2\",\"button\":\"Searchbar_button__3flyd\",\"label\":\"Searchbar_label__26oPV\",\"input\":\"Searchbar_input__2T97r\"};"],"sourceRoot":""}